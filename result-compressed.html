<!DOCTYPE html><html><head><title>Multi-exposure image with luminance mask</title><style>.mask, .cycle img{position:absolute;opacity:0;-webkit-transition:all 0.5s;-moz-transition:all 0.5s;transition:all 0.5s;}.cycle img.show{opacity:1;}</style></head><body><div class=cycle><img src=1.JPG class=show><img src=2.JPG><img src=3.JPG><img src=4.JPG><img src=5.JPG></div><div class=mask><canvas width=1024 height=768px></canvas><img src=mask-merged.png></div><script>var exp=0,c2d,imgs;function $$(a){return document.querySelectorAll(a)}$$(".mask img")[0].addEventListener("load",function(){var b=$$("canvas")[0],a=$$(".cycle img");c2d=b.getContext("2d");c2d.drawImage(document.querySelector(".mask img"),0,0);b.addEventListener("mousemove",function(g){var d=c2d.getImageData(g.layerX,g.layerY,1,1).data;var c={36:0,80:1,132:2,191:3,255:4}[d[0]];if(c>exp){for(var f=exp;f<c;f++){a[f+1].className="show"}}else{if(c<exp){for(var f=exp;f>c;f--){a[f].className=""}}}exp=c})},false);</script></body></html>